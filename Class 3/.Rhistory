ggplot(data=chetty, mapping = aes(x = social_capital, y = abs_mobility, color=urban)) +
geom_point() +
geom_smooth()
ggplot(data = chetty)
ggplot(data = chetty) +
geom_point()
ggplot(data = chetty) +
geom_point(aes(x = social_capital, y = abs_mobility, color = urban))
# hint: use the function nrow
nrow(nchigh) / (nrow(nchigh)+nrow(otherhigh))
nrow(nchigh) / nrow(nc)
#5: CZs in North Carolina
chetty %>%
filter(state=="NC") %>%
arrange(desc(abs_mobility)) %>%
select(cz_name, state, abs_mobility)
#6: CZ's in North Carolina with absolute mobility at least 40
chetty %>%
filter(state=="NC" & abs_mobility>=40) %>%
arrange(desc(abs_mobility)) %>%
select(cz_name, state, abs_mobility)
#7: CZ's in any state other than North Carolina, with absolute mobility at least 40
chetty %>%
filter(state!="NC" & abs_mobility>=40) %>%
arrange(desc(abs_mobility)) %>%
select(cz_name, state, abs_mobility)
#8: CZ's that are in North Carolina or have absolute mobility less than 40
chetty %>%
filter(state=="NC" | abs_mobility>=40) %>%
arrange(desc(abs_mobility)) %>%
select(cz_name, state, abs_mobility)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
chetty <- read_excel("C:/Users/pebenbow/source/repos/classes/CSC110-202401/Class 3/Lab1_Chetty_2014.xlsx", skip=1)
ggplot(data = chetty) +
geom_point(aes(x = social_capital, y = abs_mobility, color = urban)
ggplot(data = chetty) +
geom_point(aes(x = social_capital, y = abs_mobility, color = urban)
ggplot(data = chetty) +
geom_point(aes(x = social_capital, y = abs_mobility, color = urban))
ggplot(data = chetty, aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
ggplot(data = chetty, aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point() +
geom_smooth()
ggplot(data = chetty) +
geom_point(aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_smooth()
ggplot(data = chetty) +
geom_point(aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_smooth(aes(x = social_capital, y = abs_mobility))
ggplot(data = chetty) +
geom_point(aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_smooth(aes(x = social_capital, y = abs_mobility)) +
ggtitle("THis is a weird chart")
ggplot(data = chetty, aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point() +
facet_wrap(~region)
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region, y=stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban, y=stat(prop), group=1)) +
geom_bar()
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region, y=stat(prop))) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban, y=stat(prop), group=1)) +
geom_bar()
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region, y=stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban, y=stat(prop), group=1)) +
geom_bar()
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban, y=after_stat(prop), group=1)) +
geom_bar()
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop))) +
geom_bar()
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban, y=after_stat(prop), group=1)) +
geom_bar()
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban, y=after_stat(prop), group=1)) +
geom_bar()
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban, y=after_stat(prop))) +
geom_bar()
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban, y=after_stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban, y=after_stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban, y=after_stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban, y=after_stat(prop), group=urban)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban, y=after_stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop))) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar() +
ggtitle("With grouping")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop))) +
geom_bar() +
ggtitle("No grouping")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar() +
ggtitle("With grouping")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop))) +
geom_bar() +
ggtitle("Same chart without grouping")
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar() +
ggtitle("With grouping")
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar() +
ggtitle("Same chart without grouping")
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar() +
ggtitle("With grouping")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop))) +
geom_bar() +
ggtitle("Same chart without grouping")
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar() +
ggtitle("No Y argument, chart is counting rows")
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar() +
ggtitle("geom_bar() with no Y argument, chart is counting rows")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop))) +
geom_bar() +
ggtitle("geom_bar() with y=after_stat(prop)")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar() +
ggtitle("Same chart without grouping")
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar() +
ggtitle("geom_bar() with no Y argument, chart is counting rows")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop))) +
geom_bar() +
ggtitle("geom_bar() with y=after_stat(prop)",
subtitle="Data is recalc'ed as proportion, but each value is only being considered on its own")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar() +
ggtitle("geom_bar() with y=after_stat(prop) and group=1",
subtitle="Data is recalc'ed as proportion, but each value is only being considered on its own")
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar() +
ggtitle("geom_bar() with no Y argument, chart is counting rows")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop))) +
geom_bar() +
ggtitle("geom_bar() with y=after_stat(prop)",
subtitle="Data is recalc'ed as proportion, but each value is only being considered as a proportion of itself")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar() +
ggtitle("geom_bar() with y=after_stat(prop) and group=1",
subtitle="Proportions are now calculated across all values on our X axis")
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar() +
ggtitle("geom_bar() with no Y argument, chart is just counting rows")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop))) +
geom_bar() +
ggtitle("geom_bar() with y=after_stat(prop)",
subtitle="Data is recalc'ed as proportion, but each value is only being considered as a proportion of itself")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar() +
ggtitle("geom_bar() with y=after_stat(prop) and group=1",
subtitle="Proportions are now calculated across all values on our X axis")
View(chetty)
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar() +
ggtitle("geom_bar() with no Y argument, chart is just counting rows")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop))) +
geom_bar() +
ggtitle("geom_bar() with y=after_stat(prop)",
subtitle="Data is recalc'ed as proportion, but each value is only being considered as a proportion of itself")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar() +
ggtitle("geom_bar() with y=after_stat(prop) and group=1",
subtitle="Proportions are now calculated across all values on our X axis")
ggplot(data=chetty, mapping=aes(x=region), position="fill") +
geom_col()
# 5
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar()
ggplot(data=chetty, mapping=aes(x=urban)) +
geom_bar()
#6
ggplot(data=chetty, mapping=aes(x=region)) +
geom_bar() +
ggtitle("geom_bar() with no Y argument, chart is just counting rows")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop))) +
geom_bar() +
ggtitle("geom_bar() with y=after_stat(prop)",
subtitle="Data is recalc'ed as proportion, but each value is only being considered as a proportion of itself")
ggplot(data=chetty, mapping=aes(x=region, y=after_stat(prop), group=1)) +
geom_bar() +
ggtitle("geom_bar() with y=after_stat(prop) and group=1",
subtitle="Proportions are now calculated across all values on our X axis")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
chetty <- read_excel("Lab1_Chetty_2014.xlsx", skip=1)
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point() +
facet_wrap(~urban)
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point() +
facet_wrap(~urban) +
geom_smooth()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point() +
facet_wrap(~urban) +
geom_smooth(method="lm", se=FALSE)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
billboard
billboard |>
filter(wk1 > 50)
billboard |>
filter(wk1 > 90)
billboard |>
filter(wk1 > 90) |>
arrange(desc(wk1))
chettyData <- read_excel("Lab1_Chetty_2014.xlsx", skip=1)
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point() +
facet_wrap(~urban) +
geom_smooth(method="lm", se=FALSE)
View(chetty)
View(chetty)
View(chetty)
View(chetty)
chettyData <- read_excel("Lab1_Chetty_2014.xlsx", skip=1)
rm(chetty)
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
chetty <- read_excel("Lab1_Chetty_2014.xlsx", skip=1)
rm(chettyData)
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point() +
facet_wrap(~urban) +
geom_smooth(method="lm", se=FALSE)
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point() +
#facet_wrap(~urban) +
geom_smooth(method="lm", se=FALSE)
occup <- tribble(
~sector         , ~race   , ~pct ,
"Agriculture"   , "black" , 62   ,
"Agriculture"   , "white" , 64   ,
"Domestic"      , "black" , 28   ,
"Domestic"      , "white" , 5.5  ,
"Manufacturing" , "black" , 5    ,
"Manufacturing" , "white" , 13.5 ,
"Trade/Trans"   , "black" , 4.5  ,
"Trade/Trans"   , "white" , 13   ,
"Professions"   , "black" , 0.5  ,
"Professions"   , "white" , 4
)
occup
rm(occup)
mtcars
p <- ggplot(mtcars, aes(wt, mpg))
# A basic scatter plot
p + geom_point(size = 4)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban) +
geom_point() +
facet_wrap(~urban) +
geom_smooth(method="")
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point() +
facet_wrap(~urban) +
geom_smooth(method="")
chetty <- read_excel("Lab1_Chetty_2014.xlsx", skip = 1)
Lab1_Chetty_2014 <- read_excel("Lab1_Chetty_2014.xlsx", skip = 1)
rm(chetty)
ggplot(chetty, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility)) +
geom_point()
ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point() +
facet_wrap(~urban) +
geom_smooth(method="")
=
ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban))
ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point() +
facet_wrap(~urban)
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility)) +
#  geom_point()
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
#  geom_point()
ggplot(Lab1_Chetty_2014)
#geom_smooth(method="")
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility)) +
#  geom_point()
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
#  geom_point()
ggplot(Lab1_Chetty_2014, aes(x = social_capital, y = abs_mobility))
#geom_smooth(method="")
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility)) +
#  geom_point()
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
#  geom_point()
ggplot(Lab1_Chetty_2014, aes(x = social_capital, y = abs_mobility)) +
geom_point()
#geom_smooth(method="")
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility)) +
#  geom_point()
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
#  geom_point()
ggplot(Lab1_Chetty_2014, aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point()
#geom_smooth(method="")
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility)) +
#  geom_point()
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
#  geom_point()
ggplot(Lab1_Chetty_2014, aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point() +
facet_wrap(~urban)
#geom_smooth(method="")
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility)) +
#  geom_point()
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
#  geom_point()
ggplot(Lab1_Chetty_2014, aes(x = social_capital, y = abs_mobility, color = urban, shape = 12)) +
geom_point() +
facet_wrap(~urban)
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility)) +
#  geom_point()
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
#  geom_point()
ggplot(Lab1_Chetty_2014, aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point(aes(shape = 12)) +
facet_wrap(~urban)
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility)) +
#  geom_point()
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
#  geom_point()
ggplot(Lab1_Chetty_2014, aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point(shape = 12) +
facet_wrap(~urban)
#geom_smooth(method="")
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility)) +
#  geom_point()
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
#  geom_point()
ggplot(Lab1_Chetty_2014, aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point(shape = urban) +
facet_wrap(~urban)
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility)) +
#  geom_point()
#ggplot(Lab1_Chetty_2014, mapping = aes(x = social_capital, y = abs_mobility, color = urban)) +
#  geom_point()
ggplot(Lab1_Chetty_2014, aes(x = social_capital, y = abs_mobility, color = urban)) +
geom_point(shape = 12) +
facet_wrap(~urban)
#geom_smooth(method="")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
mpg
df <- data.frame(x = 1:10 , y = 1:10)
p <- ggplot(df, aes(x, y))
p + geom_line(linetype = 2)
